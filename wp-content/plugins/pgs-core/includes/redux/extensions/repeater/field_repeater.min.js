!function(e){"use strict";redux.field_objects=redux.field_objects||{},redux.field_objects.pgs_repeater=redux.field_objects.pgs_repeater||{},redux.field_objects.pgs_repeater.sort_repeaters=function(r){r.hasClass("redux-container-pgs_repeater")||(r=r.parents(".redux-container-pgs_repeater:first")),r.find(".redux-pgs_repeater-accordion-pgs_repeater").each(function(r){var t=e(this).attr("data-sortid");e(this).find("input[name*='["+t+"]']").each(function(){e(this).attr("name",e(this).attr("name").replace("["+t+"]","["+r+"]"))}),e(this).find("select[name*='["+t+"]']").each(function(){e(this).attr("name",e(this).attr("name").replace("["+t+"]","["+r+"]"))}),e(this).attr("data-sortid",r);var a=e(this).find(".ui-accordion-header"),i=a.attr("id").split("-header-");a.attr("id",i[0]+"-header-"+r),i=a.attr("aria-controls").split("-panel-"),a.attr("aria-controls",i[0]+"-panel-"+r);var d=e(this).find(".ui-accordion-content");i=d.attr("id").split("-panel-");d.attr("id",i[0]+"-panel-"+r),i=d.attr("aria-labelledby").split("-header-"),d.attr("aria-labelledby",i[0]+"-header-"+r)})},redux.field_objects.pgs_repeater.init=function(r){r||(r=e(document).find(".redux-group-tab:visible").find(".redux-container-pgs_repeater:visible")),e(r).each(function(r){var t=e(this),a=t;if(t.hasClass("redux-field-container")||(a=t.parents(".redux-field-container:first")),!a.is(":hidden")&&a.hasClass("redux-field-init")){a.removeClass("redux-field-init");a=t;t.hasClass("redux-field-container")||(a=t.parents(".redux-field-container:first"));var i=a.attr("data-id"),d=t.find(".redux-pgs_repeater-accordion-pgs_repeater:last-child");if(redux.optName.pgs_repeater[i].blank=d.clone().wrap("<p>").parent().html(),a.hasClass("redux-container-pgs_repeater")&&a.addClass("redux-field-init"),a.hasClass("redux-field-init")){a.removeClass("redux-field-init");var s,n=t.find(".redux-pgs_repeater-accordion"),o=Boolean(n.data("panels-closed"));s=!0===o?Boolean(!1):parseInt(0);var p=t.find(".redux-pgs_repeater-accordion").accordion({header:"> div > fieldset > h3",collapsible:!0,active:s,beforeActivate:function(r,a){"function"==typeof reduxRepeaterAccordionBeforeActivate&&reduxRepeaterAccordionBeforeActivate(e(this),t,r,a)},activate:function(r,a){e.redux.initFields(),"function"==typeof reduxRepeaterAccordionActivate&&reduxRepeaterAccordionActivate(e(this),t,r,a)},heightStyle:"content",icons:{header:"ui-icon-plus",activeHeader:"ui-icon-minus"}});1==redux.optName.pgs_repeater[i].sortable?p.sortable({axis:"y",handle:"h3",connectWith:".redux-pgs_repeater-accordion",placeholder:"ui-state-highlight",start:function(e,r){r.placeholder.height(r.item.height()),r.placeholder.width(r.item.width())},stop:function(r,t){t.item.children("h3").triggerHandler("focusout"),redux.field_objects.pgs_repeater.sort_repeaters(e(this))}}):p.find("h3.ui-accordion-header").css("cursor","pointer"),t.find(".redux-pgs_repeater-accordion-pgs_repeater .bind_title").on("change keyup",function(r){e(r.target).find(":selected").text().length>0?e(r.target).find(":selected").text():e(r.target).val()}),jQuery(document).on("click",".redux-pgs_repeaters-remove",function(){redux_change(e(this));var r=e(this).parents(".redux-container-pgs_repeater:first"),a=r.attr("data-id");redux.optName.pgs_repeater[a].blank=e(this).parents(".redux-pgs_repeater-accordion-pgs_repeater:first").clone(!0,!0),e(this).parents(".redux-pgs_repeater-accordion-pgs_repeater:first").slideUp("medium",function(){(e(this).remove(),redux.field_objects.pgs_repeater.sort_repeaters(t),""!=redux.optName.pgs_repeater[a].limit)&&(r.find(".redux-pgs_repeater-accordion-pgs_repeater").length<redux.optName.pgs_repeater[a].limit&&r.find(".redux-pgs_repeaters-add").removeClass("button-disabled"));r.find(".redux-pgs_repeater-accordion-pgs_repeater:last .ui-accordion-header").click()})}),t.find(".redux-pgs_repeater-accordion-pgs_repeater").hasClass("close-me")&&t.find(".redux-pgs_repeaters-remove").click(),String.prototype.reduxReplaceAll=function(e,r){return this.replace(new RegExp(e.replace(/[.^$*+?()[{\|]/g,"\\$&"),"g"),r)},t.find(".redux-pgs_repeaters-add").click(function(){if(!e(this).hasClass("button-disabled")){var r=e(this).parent().find(".redux-pgs_repeater-accordion:first"),a=r.find(".redux-pgs_repeater-accordion-pgs_repeater").length,i=r.attr("data-id");if(""!=redux.optName.pgs_repeater[i].limit&&a>=redux.optName.pgs_repeater[i].limit)e(this).addClass("button-disabled");else{a++;var d,s=r.find(".redux-pgs_repeater-accordion-pgs_repeater").size();if(r.find(".redux-pgs_repeater-accordion-pgs_repeater:last").find(".ui-accordion-header").hasClass("ui-state-active")&&r.find(".redux-pgs_repeater-accordion-pgs_repeater:last").find(".ui-accordion-header").click(),0==(d=r.find(".redux-pgs_repeater-accordion-pgs_repeater:last").clone(!0,!0)).length&&(d=redux.optName.pgs_repeater[i].blank),redux.optName.pgs_repeater[i]){redux.optName.pgs_repeater[i].count=t.find(".redux-pgs_repeater-header").length;var n=redux.optName.pgs_repeater[i].html.reduxReplaceAll("99999",s)}d.find(".ui-accordion-content").html(n),e(r).append(d),redux.field_objects.pgs_repeater.sort_repeaters(d),(d=e(this).parent().find(".redux-pgs_repeater-accordion:first")).find(".redux-pgs_repeater-accordion-pgs_repeater:last .ui-accordion-header").click(),d.find(".redux-pgs_repeater-accordion-pgs_repeater:last .bind_title").on("change keyup",function(r){e(r.target).find(":selected").text().length>0?e(r.target).find(":selected").text():e(r.target).val()}),redux.optName.pgs_repeater[i].limit>0&&a>=redux.optName.pgs_repeater[i].limit&&e(this).addClass("button-disabled"),!0===o&&a>=2&&t.find(".redux-pgs_repeater-accordion").accordion("option",{active:!1})}}})}}})}}(jQuery),jQuery(document).ready(function(){var e=jQuery(".redux-field-container.redux-field.redux-container-pgs_repeater .redux-pgs_repeater-accordion");e.set_social_media_pgs_repeater_custom_field_logic(),jQuery(".redux-pgs_repeaters-add").click(function(){setTimeout(function(){(e=jQuery(".redux-field-container.redux-field.redux-container-pgs_repeater .redux-pgs_repeater-accordion")).set_social_media_pgs_repeater_custom_field_logic()},50)})}),jQuery.fn.set_social_media_pgs_repeater_custom_field_logic=function(){jQuery(this).each(function(e,r){var t=jQuery("#social_media_type-"+e+"-select"),a=jQuery("#"+redux_vars.option_name+"-custom_social_title-"+e+", #"+redux_vars.option_name+"-custom_soical_icon-"+e);"custom"==t.val()?(a.show(),a.prev().show()):(a.hide(),a.prev().hide()),t.val()||t.parents(".ui-accordion-content").css("height",""),t.change(function(){t.parents(".ui-accordion-content").css("height",""),"custom"==jQuery(this).val()?(a.show(),a.prev().show()):(a.hide(),a.prev().hide())})})};