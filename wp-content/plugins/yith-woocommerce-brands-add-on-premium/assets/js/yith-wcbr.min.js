jQuery(function(b){b(".yith-wcbr-brand-filter").on("click",".yith-wcbr-brand-filters a",function(e){var a=b(this),g=a.parent().find("a"),f=a.data("toggle"),c=a.closest(".yith-wcbr-brand-filter"),l="yes"===c.data("has_more"),h=a.parents(".yith-wcbr-brand-filters-wrapper").next(),d=h.find("li"),n="all"===f?d:d.filter('[data-heading="'+f+'"]'),k=window.location.href.match(/.*\/page\/([0-9]+).*/);k=k?k[1]:1;e.preventDefault();g.removeClass("active");a.addClass("active");l?b.ajax({beforeSend:function(){c.block({message:null,
		overlayCSS:{background:"#fff",opacity:.6}})},complete:function(){c.unblock()},data:{action:"yith_wcbr_brand_filter",filter:f,page:f&&"all"!==f?1:k,shortcode_args:c.data("shortcode_options")},method:"POST",success:function(m){b(m).find(".yith-wcbr-brands-list").find("li").length?c.html(b(m).html()):(h.fadeOut(500,function(){d.hide();h.fadeIn(500)}),c.find(".yith-wcbr-brands-pagination").remove())},url:yith_wcbr.ajax_url}):h.fadeOut(500,function(){d.hide();n.show();h.fadeIn(500)})});b(".yith-wcbr-brand-filter a.active").click();
	var r=function(){var e=b(window).outerWidth();b(".yith-wcbr-brand-thumbnail-carousel .swiper-container").each(function(){var a=b(this),g=a.get(0),f=a.data("direction"),c=480>e&&"vertical"!=f?2:a.data("slidesperview"),l=a.data("autoplay"),h=a.data("loop"),d=a.parent().find(".yith-wcbr-button-prev").get(0),n=a.parent().find(".yith-wcbr-button-next").get(0),k=a.parent().find(".yith-wcbr-pagination").get(0);if("vertical"==f){a=a.find("ul.swiper-wrapper");var m=0;a.find("li").each(function(){var p=b(this).outerHeight();
		p>m&&(m=p)});a.outerHeight(m*c+15)}new Swiper(g,{slidesPerView:c,autoplay:"yes"===l?{delay:yith_wcbr.thumbnail_carousel_time}:!1,loop:"yes"===h,direction:f,navigation:{nextEl:n,prevEl:d},pagination:{el:k,clickable:!0},paginationClickable:!0,watchSlidesVisibility:!0,breakpoints:{320:{slidesPerView:2<c?2:c},480:{slidesPerView:3<c?3:c},600:{slidesPerView:4<c?4:c},1200:{slidesPerView:c}},on:{init:function(){b(this.slides).filter(".swiper-slide-visible").removeClass("last").last().addClass("last")},transitionStart:function(){b(this.slides).filter(".swiper-slide-visible").removeClass("last").last().addClass("last")}}})})};
	r();b(window).on("resize",r);r=function(){var e=b(window).outerWidth();b(".yith-wcbr-product-carousel .swiper-container").each(function(){var a=b(this),g=a.get(0),f=a.data("direction"),c=480>e&&"vertical"!=f?2:a.data("slidesperview"),l=a.data("autoplay"),h=a.data("loop"),d=a.parent().find(".yith-wcbr-button-prev"),n=a.parent().find(".yith-wcbr-button-next"),k=a.parent().find(".yith-wcbr-pagination");if("vertical"==f){var m=a.find("ul.swiper-wrapper"),p=0;m.find("li").each(function(){var q=b(this).outerHeight();
		q>p&&(p=q)});m.outerHeight(p*c+15)}a.find(".swiper-wrapper").parent().is(".yit-wcan-container")&&a.find(".swiper-wrapper").unwrap();new Swiper(g,{slidesPerView:c,direction:f,autoplay:"yes"===l?{delay:1500}:!1,loop:"yes"===h,navigation:{nextEl:n,prevEl:d},pagination:{el:k,clickable:!0},paginationClickable:!0,watchSlidesVisibility:!0,breakpoints:{320:{slidesPerView:2<c?2:c},480:{slidesPerView:3<c?3:c},1200:{slidesPerView:4<c?4:c}},onInit:function(q){q.slides.filter(".swiper-slide-visible").removeClass("last").last().addClass("last")},
		onTransitionStart:function(q){q.slides.filter(".swiper-slide-visible").removeClass("last").last().addClass("last")}})})};r();b(window).on("resize",r);b(document).on("yith-wcan-wrapped",r);b(".yith-wcbr-brand-select select").select2().on("change",function(e){e=b(e.currentTarget);var a=e.val();e=e.find('option[value="'+a+'"]').data("href");"undefined"!=typeof e&&(window.location=e)});b(".yith-wcbr-brand-grid select.yith-wcbr-category-dropdown").select2().on("change",function(e){var a=b(this),g=b(e.currentTarget).val(),
		f=a.parents(".yith-wcbr-brand-grid").find(".yith-wcbr-brands-list"),c=f.find("li");f.fadeOut(500,function(){c.each(function(){var l=b(this),h=l.data("categories"),d=l.parents(".yith-wcbr-same-heading-box"),n=!1,k=!1;0==g&&(l.removeClass("hidden").show(),k=!0);k||(-1<b.inArray(g+"",h)&&(n=!0),n?l.removeClass("hidden").show():l.addClass("hidden").hide());0==d.find("li").not(".hidden").length?d.hide():d.show()});f.fadeIn(500)})}).change();b(".yith-wcbr-brand-grid .yith-wcbr-brand-filters").on("click",
		"a",function(e){var a=b(this),g=a.parent().find("a"),f=g.filter(".reset"),c=a.parents(".yith-wcbr-brand-grid").find(".yith-wcbr-brands-list"),l=c.find("li"),h=[];e.preventDefault();if(a.is(".reset"))g.removeClass("active"),a.addClass("active");else if(a.is(".active"))if(1!=g.filter(".active").length)a.removeClass("active");else return;else f.removeClass("active"),a.addClass("active");g.filter(".active").each(function(){var d=b(this);h.push(d.data("term_id"))});c.fadeOut(500,function(){l.each(function(){var d=
			b(this),n=d.data("categories"),k=d.parents(".yith-wcbr-same-heading-box"),m=!1,p=!1;a.is(".reset")&&(d.removeClass("hidden").show(),p=!0);if(!p){for(var q in h)if(-1<b.inArray(h[q]+"",n)){m=!0;break}m?d.removeClass("hidden").show():d.addClass("hidden").hide()}0==k.find("li").not(".hidden").length?k.hide():k.show()});c.fadeIn(500)})});b(".yith-wcbr-brand-grid .yith-wcbr-brand-scroll").on("click","a",function(e){var a=b(this),g=a.data("toggle");a=a.parents(".yith-wcbr-brand-grid");e.preventDefault();
		0<a.find('.yith-wcbr-same-heading-box[data-heading="'+g+'"]:visible').length&&b("html, body").animate({scrollTop:a.find('.yith-wcbr-same-heading-box[data-heading="'+g+'"]:visible').offset().top},"slow")})});